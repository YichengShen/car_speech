---

title: Data Augmentation


keywords: fastai
sidebar: home_sidebar



nb_path: "02_Data_Augmentation.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02_Data_Augmentation.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># from fastai import *</span>
<span class="c1"># import librosa</span>
<span class="c1"># import soundfile as sf</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#     fname = str(wav_file_path).split(&#39;/&#39;)[-1].split(&#39;.&#39;)[0]</span>
<span class="c1">#     print(wav_file_path)</span>
<span class="c1">#     print(fname)</span>
<span class="c1">#     wav, sr = librosa.load(wav_file_path,sr=None)</span>
<span class="c1">#     print(wav, sr)</span>

<span class="c1">#     #tfms 1: Noise addition:</span>
<span class="c1">#     wav_n = wav + 0.009*np.random.normal(0,1,len(wav))</span>

<span class="c1">#     #tfms 2: Shifting Sound wave:</span>
<span class="c1">#     wav_roll = np.roll(wav,int(sr/10))</span>

<span class="c1">#     #tfms 3: Time - stretching</span>
<span class="c1">#     factor = 0.4</span>
<span class="c1">#     wav_time_stch = librosa.effects.time_stretch(wav,factor)</span>

<span class="c1">#     #tfms 4: Pitch - Shifting</span>
<span class="c1">#     wav_pitch_sf = librosa.effects.pitch_shift(wav,sr,n_steps=-5)</span>

<span class="c1">#     wav_tfms = [wav_n,wav_roll,wav_time_stch,wav_pitch_sf]</span>

<span class="c1">#     sf.write(f&#39;{tfms_folder_path}/{fname}_noise.wav&#39;, wav_n, sr)</span>
<span class="c1">#     sf.write(f&#39;{tfms_folder_path}/{fname}_sshifting.wav&#39;, wav_roll, sr)</span>
<span class="c1">#     sf.write(f&#39;{tfms_folder_path}/{fname}_stretch.wav&#39;, wav_time_stch, sr)</span>
<span class="c1">#     sf.write(f&#39;{tfms_folder_path}/{fname}_pshift.wav&#39;, wav_pitch_sf, sr)</span>

<span class="c1"># data_path = pathlib.Path(&#39;./docs/wavefiledata/avicar_somedigits&#39;)</span>
<span class="c1"># !mkdir data_augs</span>
<span class="c1"># filenames = tf.io.gfile.glob(str(data_path)+&quot;*/*.wav&quot;)</span>
<span class="c1"># for fpath in filenames:</span>
<span class="c1">#     audioDataTransforms(fpath, &#39;./data_augs&#39;)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

